{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": "container",
    "height": 500,
    "data": {"url": "https://raw.githubusercontent.com/janiceivana/3179/main/no_of_cases_adults_15_to_49_by_country_clean.csv"},

    "params": [{
        "name": "Continent",
        "select": {"type": "point", "fields": ["WHO Region"]},
        "bind": "legend"
      }],
      "title": {
        "text": "Distribution Average of Death Cases (Bar Chart)",
      "fontSize": 16},
      "mark": {
        "type": "bar",
        "filled": true,
        "tooltip":true
      },
    "encoding": {
        "y": {
            "field": "Count_median",
            "type": "quantitative",
            "aggregate":"average",
            "title":"Average of Adult Cases with HIV (%)"
        },
        "x": {
            "field": "WHO Region",
            "type": "nominal",
            "title": "WHO Region",
            "sort": { "encoding": "y", "order":"descending"}
        },
        "color": {"field":"WHO Region","scale":{"range":["pink","purple","blue","lightgreen","orange","darkgreen"]}},
        "opacity": {
          "condition": {"param": "Continent", "value": 1},
          "value": 0.2
        }
}
}